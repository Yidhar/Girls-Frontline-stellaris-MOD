##########################################################################
# Decisions
##########################################################################
# Auto Colony
decision_GF_auto_colony_on = {
	owned_planets_only = yes
	icon = decision_GF_auto_colony_on

	resources = {
		category = decisions
		cost = {
			minerals = 100
			energy = 100
			unity = 100
		}
	}

	potential = {
		is_capital = no
		NOR = {
			has_modifier = penal_colony
			has_modifier = slave_colony
			has_modifier = GF_auto_colony
		}
		owner = { has_authority = GF_auth_commonwealth }
	}

	allow = {
		custom_tooltip = {
			fail_text = decision_resort_colony_no_districts
			num_districts = { type = any value < 1 }
			num_buildings = { type = any value < 2 }
		}
		custom_tooltip = {
			fail_text = no_upgraded_capital_tooltip
			has_upgraded_capital = no
		}
	}

	effect = {
		custom_tooltip = decision_GF_auto_colony_on_effect_tooltip
		add_modifier = {
			modifier = GF_auto_colony
			days = -1
		}
		custom_tooltip = decision_GF_auto_colony_boundary_tooltip
		hidden_effect = {
			remove_building = building_colony_shelter
			add_building = building_GF_auto_colony_capital
			set_colony_type = col_GF_auto_colony
			set_planet_flag = flag_p_GF_auto_colony
			validate_planet_buildings_and_districts = yes
			
			planet_event = {
				id = GF_colony.10
				days = 60
			}
		}
		custom_tooltip = decision_GF_auto_colony_on_effect_not_automation_tooltip
	}

	ai_weight = {
		weight = 0
		# modifier = {
		# 	check_modifier_value = {
		# 		modifier = pop_environment_tolerance
		# 		value < 50
		# 	}
		# }
	}
}

decision_GF_auto_colony_off = {
	owned_planets_only = yes
	icon = decision_GF_auto_colony_off

	resources = {
		category = decisions
		cost = {
			unity = 100
		}
	}

	potential = {
		has_modifier = GF_auto_colony
	}

	effect = {
		custom_tooltip = decision_GF_auto_colony_off_effect_tooltip
		remove_modifier = GF_auto_colony
		if = {
			limit = { has_modifier = GF_auto_colony_boundary_modifier }
			remove_modifier = GF_auto_colony_boundary_modifier
		}
		
		hidden_effect = {
			add_building = building_colony_shelter
			remove_building = building_GF_auto_colony_capital
			set_colony_type = col_default
			remove_planet_flag = flag_p_GF_auto_colony

			validate_planet_buildings_and_districts = yes
		}
	}

	ai_weight = {
		weight = 0
	}
}