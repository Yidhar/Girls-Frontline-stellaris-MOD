namespace = sfdoll_ark_event
#id标准写法为namespace的值加上编号

# 塔露拉通讯界面
country_event = {
	id = sfdoll_ark_event.1
	title = "sfdoll_ark_event.1"
	desc = "sfdoll_ark_event.1.desc.a"
	desc = "sfdoll_ark_event.1.desc.b"
	desc = "sfdoll_ark_event.1.desc.c"
	desc = "sfdoll_ark_event.1.desc.d"
	is_triggered_only = yes
	trigger = { has_authority = auth_gf_sfdoll }
	diplomatic = yes
	picture_event_data = {
		portrait = GFX_sfdoll_talulah
		room = this
		graphical_culture = this
		planet_background = this
		city_level = this
	}

	# 塔露拉担任总督
	option = {
		name = "sfdoll_ark_event.1.a"
		response_text = "sfdoll_ark_event.1.a.response"
		allow = {
			custom_tooltip = {
				fail_text = "sfdoll_the_leader_is_doing_this_job"
				NAND = {
					exists = event_target:sfdoll_leader_talulah
					event_target:sfdoll_leader_talulah = {
						leader_class = governor
						owner = { is_same_value = root }
					}
				}
			}
		}
		hidden_effect = {
			if = {
				limit = { exists = event_target:sfdoll_leader_talulah }
				event_target:sfdoll_leader_talulah = { kill_leader = { show_notification = no fire = yes } }
			}
			create_leader = {
				class = governor
				species = owner_species
				name = "Name_sfdoll_talulah"
				skill = 1
				set_age = 20
				immortal = yes
				event_leader = yes	# prevents this leader from leading factions and winning elections
				traits = {
					trait = leader_trait_sfdoll_talulah_governor
					trait = leader_trait_righteous
				}
				effect = {
					change_leader_portrait = GFX_sfdoll_talulah
					set_leader_flag = sfdoll_leader_talulah
					save_global_event_target_as = sfdoll_leader_talulah
				}
			}
		}
	}

	# 塔露拉担任科学家
	option = {
		name = "sfdoll_ark_event.1.b"
		response_text = "sfdoll_ark_event.1.b.response"
		allow = {
			custom_tooltip = {
				fail_text = "sfdoll_the_leader_is_doing_this_job"
				NAND = {
					exists = event_target:sfdoll_leader_talulah
					event_target:sfdoll_leader_talulah = {
						leader_class = scientist
						owner = { is_same_value = root }
					}
				}
			}
		}
		hidden_effect = {
			if = {
				limit = { exists = event_target:sfdoll_leader_talulah }
				event_target:sfdoll_leader_talulah = { kill_leader = { show_notification = no fire = yes } }
			}
			create_leader = {
				class = scientist
				species = owner_species
				name = "Name_sfdoll_talulah"
				skill = 1
				set_age = 20
				immortal = yes
				event_leader = yes	# prevents this leader from leading factions and winning elections
				traits = {  trait = leader_trait_sfdoll_talulah_scientist  }
				effect = {
					change_leader_portrait = GFX_sfdoll_talulah
					set_leader_flag = sfdoll_leader_talulah
					save_global_event_target_as = sfdoll_leader_talulah
				}
			}
		}
	}

	# 塔露拉担任舰队司令
	option = {
		name = "sfdoll_ark_event.1.c"
		response_text = "sfdoll_ark_event.1.c.response"
		allow = {
			custom_tooltip = {
				fail_text = "sfdoll_the_leader_is_doing_this_job"
				NAND = {
					exists = event_target:sfdoll_leader_talulah
					event_target:sfdoll_leader_talulah = {
						leader_class = admiral
						owner = { is_same_value = root }
					}
				}
			}
		}
		hidden_effect = {
			if = {
				limit = { exists = event_target:sfdoll_leader_talulah }
				event_target:sfdoll_leader_talulah = { kill_leader = { show_notification = no fire = yes } }
			}
			create_leader = {
				class = admiral
				species = owner_species
				name = "Name_sfdoll_talulah"
				skill = 1
				set_age = 20
				immortal = yes
				event_leader = yes	# prevents this leader from leading factions and winning elections
				traits = {  trait = leader_trait_sfdoll_talulah_admiral  }
				effect = {
					change_leader_portrait = GFX_sfdoll_talulah
					set_leader_flag = sfdoll_leader_talulah
					save_global_event_target_as = sfdoll_leader_talulah
				}
			}
		}
	}
	# 塔露拉担任陆军将领
	option = {
		name = "sfdoll_ark_event.1.d"
		response_text = "sfdoll_ark_event.1.d.response"
		allow = {
			custom_tooltip = {
				fail_text = "sfdoll_the_leader_is_doing_this_job"
				NAND = {
					exists = event_target:sfdoll_leader_talulah
					event_target:sfdoll_leader_talulah = {
						leader_class = general
						owner = { is_same_value = root }
					}
				}
			}
		}
		hidden_effect = {
			if = {
				limit = { exists = event_target:sfdoll_leader_talulah }
				event_target:sfdoll_leader_talulah = { kill_leader = { show_notification = no fire = yes } }
			}
			create_leader = {
				class = general
				species = owner_species
				name = "Name_sfdoll_talulah"
				skill = 1
				set_age = 20
				immortal = yes
				event_leader = yes	# prevents this leader from leading factions and winning elections
				traits = {
					trait = leader_trait_sfdoll_talulah_general
					trait = leader_trait_restrained
					trait = leader_trait_charismatic
					trait = leader_trait_glory_seeker
				}
				effect = {
					change_leader_portrait = GFX_sfdoll_talulah
					set_leader_flag = sfdoll_leader_talulah
					save_global_event_target_as = sfdoll_leader_talulah
				}
			}
		}
	}

	option = { name =  "EXIT" hidden_effect = { country_event = { id = sfdoll_elisa_event.3 } } }
}