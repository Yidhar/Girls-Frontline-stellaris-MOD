decision_GF_doll_sercurity_on = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_GF_doll_sercurity_on
	
	resources = {
		category = decisions
		cost = {
			influence = 50
		}
	}
	
	potential = {
		owner = { has_authority = GF_auth_commonwealth }
		NOT = { has_modifier = GF_sercurity_protocol }
	}
	
	allow = {
		NOT = { has_modifier = GF_sercurity_protocol }
	}
	
	effect = {
		add_modifier = { modifier = "GF_sercurity_protocol" days = -1 }
	}
	
	ai_weight = { weight = 0 }
}
decision_GF_doll_sercurity_off = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_GF_doll_sercurity_off
	
	resources = {
		category = decisions
		cost = {
			influence = 0
		}
	}
	
	potential = {
		owner = { has_authority = GF_auth_commonwealth }
		has_modifier = GF_sercurity_protocol
	}
	
	allow = {
		has_modifier = GF_sercurity_protocol
	}
	
	effect = {
		remove_modifier = "GF_sercurity_protocol"
	}
	
	ai_weight = { weight = 0 }
}
decision_GF_doll_storage_on = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_GF_doll_storage_on
	
	resources = {
		category = decisions
		cost = {
			influence = 50
		}
	}
	
	potential = {
		owner = { has_authority = GF_auth_commonwealth }
		NOT = { has_modifier = GF_storage_protocol }
	}
	
	allow = {
		NOT = { has_modifier = GF_storage_protocol }
	}
	
	effect = {
		add_modifier = { modifier = "GF_storage_protocol" days = -1 }
	}
	
	ai_weight = { weight = 0 }
}
decision_GF_doll_storage_off = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_GF_doll_storage_off
	
	resources = {
		category = decisions
		cost = {
			influence = 0
		}
	}
	
	potential = {
		owner = { has_authority = GF_auth_commonwealth }
		has_modifier = GF_storage_protocol
	}
	
	allow = {
		has_modifier = GF_storage_protocol
		NOT = { has_modifier = GF_cloud_computing_protocol }
	}
	
	effect = {
		remove_modifier = "GF_storage_protocol"
	}
	
	ai_weight = { weight = 0 }
}
decision_GF_doll_cloud_computing_on = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_GF_doll_cloud_computing_on
	
	resources = {
		category = decisions
		cost = {
			energy = 10
		}
	}
	
	potential = {
		owner = { has_authority = GF_auth_commonwealth }
		NOT = { has_modifier = GF_cloud_computing_protocol }		
	}
	
	allow = {
		has_modifier = GF_storage_protocol
	}
	
	effect = {
		add_modifier = { modifier = "GF_cloud_computing_protocol" days = -1 }
	}
	
	ai_weight = { weight = 0 }
}
decision_GF_doll_cloud_computing_off  = {
	owned_planets_only = yes
	sound = event_administrative_work
	icon = decision_GF_doll_cloud_computing_off
	
	resources = {
		category = decisions
		cost = {
			influence = 0
		}
	}
	
	potential = {
		owner = { has_authority = GF_auth_commonwealth }
		has_modifier = GF_cloud_computing_protocol
	}
	
	allow = {
		has_modifier = GF_cloud_computing_protocol
	}
	
	effect = {
		remove_modifier = "GF_cloud_computing_protocol"
	}
	
	ai_weight = { weight = 0 }
}


###########
decision_GF_rebuild_purify_wall = {
	owned_planets_only = yes
	icon = decision_rebuild_purify_wall

	enactment_time = 120
	resources = {
		category = decisions
		cost = {
			influence = 5
			minerals = 200
			energy = 100
		}
	}

	potential = {
		owner = {
			has_authority = GF_auth_commonwealth
			has_origin = GF_origin_commonwealth
		}
		OR = {
			GF_planet_has_contaminated_zone = yes
			check_variable = {
				which = v_GF_elid_threat_level
				value > 0
			}
		}
		NOT = { has_deposit = d_GF_purify_wall }
	}

	allow = {
		custom_tooltip = {
			fail_text = decision_GF_rebuild_purify_wall_requirements
			check_variable = {
				which = v_GF_elid_threat_level
				value > 0
			}
			
		}
	}

	effect = {
		add_deposit = d_GF_purify_wall
		custom_tooltip = decision_GF_rebuild_purify_wall_tooltip
		hidden_effect = {
			event_target:GF_home_world = {
				change_variable =  {
					which = v_GF_elid_threat_level
					value = -2
				}
				planet_event = { id = GF_elid.1030 }
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 100
			AND = {
				OR = {
					has_deposit = d_GF_black_zone
					has_deposit = d_GF_red_zone
					has_deposit = d_GF_yellow_zone
				}
				NOT = { has_deposit = d_GF_purify_wall }
			}
		}
	}
}

decision_GF_eliminate_all_elid = {
	owned_planets_only = yes
	icon = decision_eliminate_all_elid

	enactment_time = 360
	resources = {
		category = decisions
		cost = {
			influence = 20
			energy = 300
			multiplier = v_GF_elid_threat_level
		}
	}

	potential = {
		owner = {
			has_authority = GF_auth_commonwealth
			has_origin = GF_origin_commonwealth
		}
		GF_planet_has_contaminated_zone = no
		check_variable = {
			which = v_GF_elid_threat_level
			value > 0
		}
	}

	allow = {
		has_ground_combat = no
		hidden_trigger = {
			check_variable = {
				which = v_GF_elid_threat_level
				value > 0
			}
		}
	}

	effect = {
		custom_tooltip = decision_GF_eliminate_all_elid_effects
		hidden_effect = {
			set_variable = {
				which = v_GF_elid_threat_level
				value = 0
			}
			planet_event = { id = GF_elid.1030 }
		}
	}

	ai_weight = {
		weight = 20
		modifier = {
			factor = 100
			AND = {
				NOR = {
					has_deposit = d_GF_black_zone
					has_deposit = d_GF_red_zone
					has_deposit = d_GF_yellow_zone
				}
				check_variable = {
					which = v_GF_elid_threat_level
					value > 0
				}
			}
		}
	}
}

decision_GF_construct_railway_line = {
	icon = decision_GF_construct_railway_line
	owned_planets_only = yes

	enactment_time = 1080
	resources = {
		category = decisions
		cost = {
			energy = 1000
			minerals = 500
			alloys = 500
		}
	}

	potential = {
		owner = {
			has_authority = GF_auth_commonwealth
			has_technology = GF_tech_recover_plan
		}
	}

	allow = {
		if = {
			limit = { is_capital = yes }
			custom_tooltip = {
				fail_text = GF_require_yellow_zone_cleared
				NOT = { has_deposit = d_GF_yellow_zone }
			}
			custom_tooltip = {
				fail_text = decision_GF_construct_railway_line_fail_tooltip_2
				count_deposits = {
					type = d_GF_railway_hub
					count < 2
				}
			}
		}
		else = {
			custom_tooltip = {
				fail_text = decision_GF_construct_railway_line_fail_tooltip_1
				count_deposits = {
					type = d_GF_railway_hub
					count < 1
				}
			}
		}
	}

	effect = {
		custom_tooltip = decision_GF_construct_railway_line_effects
		hidden_effect = {
			GF_construct_railway_line_effect = yes
		}
	}
}

decision_GF_deploy_armored_train = {
	icon = decision_GF_deploy_armored_train
	owned_planets_only = yes

	enactment_time = 120
	resources = {
		category = decisions
		cost = {
			energy = 500
			alloys = 300
		}
	}

	potential = {
		owner = { has_authority = GF_auth_commonwealth }
		has_deposit = d_GF_railway_hub
	}

	allow = {
		custom_tooltip = {
			fail_text = decision_GF_deploy_armored_train_fail_tooltip
			count_planet_army = {
				limit = { army_type = GF_army_defensive_armored_train }
				count < v_GF_armored_train_capacity
			}
		}
	}

	effect = {
		custom_tooltip = decision_GF_deploy_armored_train_effects
		hidden_effect = {
			create_army = {
				owner = this.owner
				species = this.owner
				name = "NAME_GF_armored_train"
				type = GF_army_defensive_armored_train
			}
		}
	}
}